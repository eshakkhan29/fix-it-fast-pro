# Internationalization (i18n)

This project uses `next-intl` to manage localized messages and locale selection.

## Configuration

- Entry: `src/i18n/request.ts` via `getRequestConfig`.
- It reads the `locale` cookie (defaults to `en`) and loads message JSON from `messages/<locale>.json`.
- The root layout wraps app tree with `NextIntlClientProvider` passing the messages.

## Messages

- Location: `messages/en.json` and `messages/fr.json`.
- Organized by feature namespaces: `HomePage`, `Dashboard`, `IncidentManagement`, `Analytics`, `LocationManagement`, `QRTemplateDeleteModal`, `IncidentCard`, `ScanHistory`, etc.
- Access via `useTranslations('Namespace')` in components.

## Locale Switching

- Component: `src/components/LanguageSwitcher.tsx`.
- Uses a Mantine `Menu` to choose language.
- Writes selected code to `locale` cookie, then refreshes the page with `router.refresh()`.

## Adding a New Locale

1. Create `messages/<new-locale>.json` with translations.
2. Update any locale selection UI if needed.
3. Ensure `getRequestConfig` can resolve the new file (dynamic import works out of the box).

## Best Practices

- Keep translation keys stable; avoid directly storing text in components.
- Prefer descriptive keys grouped by feature to make maintenance easier.
- Validate presence of keys during development with TypeScript helper patterns if needed.